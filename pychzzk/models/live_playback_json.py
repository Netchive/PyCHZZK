"""
{
    "meta": {
        "videoId": "D68695C9D870BBB7EB1CE300A9B7110B6DD1",
        "streamSeq": 26446748,
        "liveId": "4145848",
        "paidLive": false,
        "cdnInfo": {
            "cdnType": "LCDN",
            "zeroRating": false
        },
        "p2p": false
    },
    "serviceMeta": {
        "contentType": "VIDEO"
    },
    "live": {
        "start": "2023-12-21T19:01:05",
        "open": "2023-12-21T19:24:14",
        "timeMachine": false,
        "status": "STARTED"
    },
    "api": [
        {
            "name": "p2p-config",
            "path": "https://apis.naver.com/livecloud/livecloud/xray/p2p/v1/config/chzzk"
        },
        {
            "name": "qoeConfig",
            "path": "https://apis.naver.com/policy/policy/policy"
        }
    ],
    "media": [
        {
            "mediaId": "HLS",
            "protocol": "HLS",
            "path": "https://livecloud.pstatic.net/chzzk/lip2_kr/pgsg1nmss2u0001/kzg63ddkq1xxl2mkm61h55pa74nzakkkj2/hls_playlist.m3u8?hdnts=st=1703159060~exp=1703191470~acl=*/kzg63ddkq1xxl2mkm61h55pa74nzakkkj2/*~hmac=6a3f2d78d1dfc4c58a1f318451bdee54a8b922341c7cb260428c812f1cf5e1d7",
            "encodingTrack": [
                {
                    "encodingTrackId": "144p",
                    "videoProfile": "main",
                    "audioProfile": "LC",
                    "videoCodec": "H264",
                    "videoBitRate": 128000,
                    "audioBitRate": 192000,
                    "videoFrameRate": "30.0",
                    "videoWidth": 256,
                    "videoHeight": 144,
                    "audioSamplingRate": 48000,
                    "audioChannel": 2,
                    "avoidReencoding": false,
                    "videoDynamicRange": "SDR"
                },
                {
                    "encodingTrackId": "360p",
                    "videoProfile": "main",
                    "audioProfile": "LC",
                    "videoCodec": "H264",
                    "videoBitRate": 800000,
                    "audioBitRate": 192000,
                    "videoFrameRate": "30.0",
                    "videoWidth": 640,
                    "videoHeight": 360,
                    "audioSamplingRate": 48000,
                    "audioChannel": 2,
                    "avoidReencoding": false,
                    "videoDynamicRange": "SDR"
                },
                {
                    "encodingTrackId": "480p",
                    "videoProfile": "main",
                    "audioProfile": "LC",
                    "videoCodec": "H264",
                    "videoBitRate": 1500000,
                    "audioBitRate": 192000,
                    "videoFrameRate": "30.0",
                    "videoWidth": 852,
                    "videoHeight": 480,
                    "audioSamplingRate": 48000,
                    "audioChannel": 2,
                    "avoidReencoding": false,
                    "videoDynamicRange": "SDR"
                },
                {
                    "encodingTrackId": "1080p",
                    "videoProfile": "high",
                    "audioProfile": "LC",
                    "videoCodec": "H264",
                    "videoBitRate": 8000000,
                    "audioBitRate": 192000,
                    "videoFrameRate": "60.0",
                    "videoWidth": 1920,
                    "videoHeight": 1080,
                    "audioSamplingRate": 48000,
                    "audioChannel": 2,
                    "avoidReencoding": false,
                    "videoDynamicRange": "SDR"
                },
                {
                    "encodingTrackId": "720p",
                    "videoProfile": "high",
                    "audioProfile": "LC",
                    "videoCodec": "H264",
                    "videoBitRate": 5000000,
                    "audioBitRate": 192000,
                    "videoFrameRate": "60.0",
                    "videoWidth": 1280,
                    "videoHeight": 720,
                    "audioSamplingRate": 48000,
                    "audioChannel": 2,
                    "avoidReencoding": false,
                    "videoDynamicRange": "SDR"
                },
                {
                    "encodingTrackId": "alow.stream",
                    "path": "https://livecloud.pstatic.net/chzzk/lip2_kr/pgsg1nmss2u0001/kzg63ddkq1xxl2mkm61h55pa74nzakkkj2/afragalow.stream_hls_playlist.m3u8?hdnts=st=1703159060~exp=1703191470~acl=*/kzg63ddkq1xxl2mkm61h55pa74nzakkkj2/*~hmac=6a3f2d78d1dfc4c58a1f318451bdee54a8b922341c7cb260428c812f1cf5e1d7",
                    "audioCodec": "AAC",
                    "audioBitRate": 64000,
                    "audioOnly": true,
                    "audioSamplingRate": 48000,
                    "audioChannel": 2,
                    "avoidReencoding": false
                }
            ]
        },
        {
            "mediaId": "LLHLS",
            "protocol": "HLS",
            "path": "https://livecloud.pstatic.net/chzzk/lip2_kr/pgsg1nmss2u0001/kzg63ddkq1xxl2mkm61h55pa74nzakkkj2/playlist.m3u8?hdnts=st=1703159060~exp=1703191470~acl=*/kzg63ddkq1xxl2mkm61h55pa74nzakkkj2/*~hmac=6a3f2d78d1dfc4c58a1f318451bdee54a8b922341c7cb260428c812f1cf5e1d7",
            "latency": "lowLatency",
            "encodingTrack": [
                {
                    "encodingTrackId": "144p",
                    "videoProfile": "main",
                    "audioProfile": "LC",
                    "videoCodec": "H264",
                    "videoBitRate": 128000,
                    "audioBitRate": 192000,
                    "videoFrameRate": "30.0",
                    "videoWidth": 256,
                    "videoHeight": 144,
                    "audioSamplingRate": 48000,
                    "audioChannel": 2,
                    "avoidReencoding": false,
                    "videoDynamicRange": "SDR"
                },
                {
                    "encodingTrackId": "360p",
                    "videoProfile": "main",
                    "audioProfile": "LC",
                    "videoCodec": "H264",
                    "videoBitRate": 800000,
                    "audioBitRate": 192000,
                    "videoFrameRate": "30.0",
                    "videoWidth": 640,
                    "videoHeight": 360,
                    "audioSamplingRate": 48000,
                    "audioChannel": 2,
                    "avoidReencoding": false,
                    "videoDynamicRange": "SDR"
                },
                {
                    "encodingTrackId": "480p",
                    "videoProfile": "main",
                    "audioProfile": "LC",
                    "videoCodec": "H264",
                    "videoBitRate": 1500000,
                    "audioBitRate": 192000,
                    "videoFrameRate": "30.0",
                    "videoWidth": 852,
                    "videoHeight": 480,
                    "audioSamplingRate": 48000,
                    "audioChannel": 2,
                    "avoidReencoding": false,
                    "videoDynamicRange": "SDR"
                },
                {
                    "encodingTrackId": "1080p",
                    "videoProfile": "high",
                    "audioProfile": "LC",
                    "videoCodec": "H264",
                    "videoBitRate": 8000000,
                    "audioBitRate": 192000,
                    "videoFrameRate": "60.0",
                    "videoWidth": 1920,
                    "videoHeight": 1080,
                    "audioSamplingRate": 48000,
                    "audioChannel": 2,
                    "avoidReencoding": false,
                    "videoDynamicRange": "SDR"
                },
                {
                    "encodingTrackId": "720p",
                    "videoProfile": "high",
                    "audioProfile": "LC",
                    "videoCodec": "H264",
                    "videoBitRate": 5000000,
                    "audioBitRate": 192000,
                    "videoFrameRate": "60.0",
                    "videoWidth": 1280,
                    "videoHeight": 720,
                    "audioSamplingRate": 48000,
                    "audioChannel": 2,
                    "avoidReencoding": false,
                    "videoDynamicRange": "SDR"
                },
                {
                    "encodingTrackId": "alow.stream",
                    "path": "https://livecloud.pstatic.net/chzzk/lip2_kr/pgsg1nmss2u0001/kzg63ddkq1xxl2mkm61h55pa74nzakkkj2/afragalow.stream_playlist.m3u8?hdnts=st=1703159060~exp=1703191470~acl=*/kzg63ddkq1xxl2mkm61h55pa74nzakkkj2/*~hmac=6a3f2d78d1dfc4c58a1f318451bdee54a8b922341c7cb260428c812f1cf5e1d7",
                    "audioCodec": "AAC",
                    "audioBitRate": 64000,
                    "audioOnly": true,
                    "audioSamplingRate": 48000,
                    "audioChannel": 2,
                    "avoidReencoding": false
                }
            ]
        }
    ],
    "thumbnail": {
        "snapshotThumbnailTemplate": "https://livecloud-thumb.akamaized.net/chzzk/livecloud/KR/stream/26446748/live/4145848/record/24061528/thumbnail/image_{type}.jpg",
        "types": [
            "1080",
            "720",
            "480",
            "360",
            "270",
            "144"
        ]
    },
    "multiview": []
}
"""
from typing import Optional
from pydantic import Field, AliasPath, HttpUrl
from pychzzk.models.base import RawModel

class cdnInfo(RawModel):
    cdn_type: str
    zero_rating: bool

class meta(RawModel):
    video_id: str
    stream_seq: int
    live_id: str
    paid_live: bool
    cdn_info: cdnInfo
    p2p: bool = Field(alias="p2p")

class live(RawModel):
    """
        "start": "2023-12-21T19:01:05",
        "open": "2023-12-21T19:24:14",
        "timeMachine": false,
        "status": "STARTED"
    """
    start: str
    open: str
    time_machine: bool
    status: str

class api(RawModel):
    name: str
    path: HttpUrl

class encodingTrack(RawModel):
    encoding_track_id: str
    video_profile: Optional[str] = None
    audio_profile: Optional[str] = None
    video_codec: Optional[str] = None
    video_bit_rate: Optional[int] = None
    audio_bit_rate: Optional[int] = None
    video_frame_rate: Optional[str] = None
    video_width: Optional[int] = None
    video_height: Optional[int] = None
    audio_sampling_rate: int
    audio_channel: int
    avoid_reencoding: bool
    video_dynamic_range: Optional[str] = None
    audio_codec: Optional[str] = None
    audio_only: Optional[bool] = None
    path: Optional[HttpUrl] = None


class thumbnail(RawModel):
    snapshot_thumbnail_template: HttpUrl
    types: list[str]


class media(RawModel):
    media_id: str
    protocol: str
    path: HttpUrl
    latency: Optional[str] = None
    encoding_track: list[encodingTrack]


class livePlaybackJson(RawModel):
    meta: meta
    service_meta: str = Field(alias=AliasPath("serviceMeta", "contentType"))
    live: live
    api: list[api]
    media: list[media]
    thumbnail: thumbnail
    multiview: list